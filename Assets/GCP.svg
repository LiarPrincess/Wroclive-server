<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 985 460" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com">
  <defs>
    <linearGradient id="color-0" bx:pinned="true">
      <title>Mpk row</title>
      <stop style="stop-color: rgb(162, 210, 255);"/>
    </linearGradient>
    <linearGradient id="color-2" bx:pinned="true">
      <title>Support row</title>
      <stop style="stop-color: rgb(205, 180, 219);"/>
    </linearGradient>
    <linearGradient id="color-1" bx:pinned="true">
      <title>Main row</title>
      <stop style="stop-color: rgb(255, 175, 204);"/>
    </linearGradient>
  </defs>
  <rect width="987" height="462" style="fill: rgb(254, 254, 254);" x="-2"/>
  <g transform="matrix(1, 0, 0, 1, -3, -101.466629)" style="">
    <title>Mpk</title>
    <g transform="matrix(1, 0, 0, 1, 385.217896, 2.455231)">
      <title>wroclaw.pl/open-data</title>
      <rect x="275.812" y="104.873" width="169.563" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-0);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="284.028" y="135.544">wroclaw.pl/open-data</text>
    </g>
    <g transform="matrix(1, 0, 0, 1, 43.456463, 82.51963)">
      <title>mpk.wroc.pl/bus_position</title>
      <rect x="248.026" y="24.146" width="200" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-0);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="256.524" y="54.78">mpk.wroc.pl/bus_position</text>
    </g>
    <path d="M 245.254 327.634 H 379.397 L 379.397 321.149 L 391.681 328.134 L 379.397 335.118 L 379.397 328.634 H 245.254 V 327.634 Z" style="" transform="matrix(0, -1, 1, 0, 60.680786, 548.146729)" bx:shape="arrow 245.254 321.149 146.427 13.969 1 12.284 0 1@d279ffa1"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 145.85199, -34.550484)"><title>Text</title><tspan x="187.536" y="248.078">Get vehicle</tspan><tspan x="187.536" dy="1em">​</tspan><tspan>locations</tspan><tspan x="187.536" dy="1em">​</tspan><tspan>(only when</tspan><tspan x="187.536" dy="1em">​</tspan><tspan>open-data fails)</tspan></text>
    <path d="M 192.873 327.634 H 441.288 L 441.288 321.149 L 453.572 328.134 L 441.288 335.118 L 441.288 328.634 H 192.873 V 327.634 Z" style="" transform="matrix(0.834466, -0.55106, 0.55106, 0.834466, 101.718384, 132.796265)" bx:shape="arrow 192.873 321.149 260.699 13.969 1 12.284 0 1@d50635cb"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 313.603241, -21.732159)"><title>Text</title><tspan x="187.536" y="248.078">Get vehicle</tspan><tspan x="187.536" dy="1em">​</tspan><tspan>locations</tspan></text>
    <path d="M 219.758 327.635 H 367.993 L 367.993 321.15 L 380.277 328.135 L 367.993 335.119 L 367.993 328.635 H 219.758 V 327.635 Z" style="" transform="matrix(-0.430262, -0.902704, 0.902704, -0.430262, 698.003479, 641.790039)" bx:shape="arrow 219.758 321.15 160.519 13.969 1 12.284 0 1@064a5cb5"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 606.944397, -20.450476)"><title>Text</title><tspan x="187.536" y="248.078">Get GTFS file</tspan><tspan x="187.536" dy="1em">​</tspan><tspan>(zip file with schedule)</tspan></text>
  </g>
  <g transform="matrix(1, 0, 0, 1, -17.049458, -104)">
    <title>Main</title>
    <g transform="matrix(0.999734, 0, 0, 1, -9.789071, 82.173004)">
      <title>Client</title>
      <rect x="39.355" y="220.882" width="135.036" height="50" style="stroke: rgb(0, 0, 0); fill: none;" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="86.035" y="251.531">Client</text>
    </g>
    <g transform="matrix(1, 0, 0, 1, 298.669922, 82.173004)">
      <title>App Engine</title>
      <rect x="39.362" y="220.883" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-1);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="64.737" y="251.531">App Engine</text>
    </g>
    <g transform="matrix(1, 0, 0, 1, 557.099976, 82.290009)">
      <title>Firestore</title>
      <rect x="39.366" y="220.883" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-1);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="74.714" y="251.531">Firestore</text>
    </g>
    <g transform="matrix(1, 0, 0, 1, 523.266052, 100.501007)">
      <title>Compute Engine</title>
      <rect x="338.178" y="202.461" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-1);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="338.193" y="233.202" transform="matrix(1, 0, 0, 1, 6.772976, -0.05696)">Compute Engine<tspan x="338.1929931640625" dy="1em">​</tspan><tspan x="338.1929931640625" dy="1em">​</tspan></text>
    </g>
    <path d="M 164.556 327.634 H 322.404 L 322.404 321.149 L 338.032 328.134 L 322.404 335.118 L 322.404 328.634 H 164.556 V 327.634 Z" style="" bx:shape="arrow 164.556 321.149 173.476 13.969 1 15.628 0 1@e416098a"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; white-space: pre;" transform="matrix(1, 0, 0, 1, -0.964485, -15.51236)"><title>Text</title><tspan x="176.52" y="292.78">GET /</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>GET /api/v1/lines</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>GET /api/v1/stops</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>GET /api/v1/vehicles</tspan><tspan x="176.52000427246094" dy="1em">​</tspan></text>
    <path d="M 473.032 327.634 H 583.766 L 583.766 321.149 L 596.466 328.134 L 583.766 335.118 L 583.766 328.634 H 473.032 V 327.634 Z" style="" bx:shape="arrow 473.032 321.149 123.434 13.969 1 12.7 0 1@e96b56d8"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 358.229004, -1.51236)" y="292.7799987792969"><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>Read line and stop</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>definitions</tspan></text>
    <path d="M -861.444 328.813 H -744.842 L -744.842 322.328 L -731.466 329.313 L -744.842 336.297 L -744.842 329.813 H -861.444 V 328.813 Z" style="" transform="matrix(-1, 0, 0, 1, 0, 0)" bx:shape="arrow -861.444 322.328 129.978 13.969 1 13.376 0 1@7cb5c301"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 619.934998, -2.515106)" y="292.7799987792969"><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>Write line and stop</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>definitions</tspan></text>
  </g>
  <g transform="matrix(1, 0, 0, 1, -3, -104)" style="">
    <title>Support</title>
    <g transform="matrix(1, 0, 0, 1, 517.812622, 304.262024)">
      <title>Cloud Functions</title>
      <rect x="329.582" y="202.524" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-2);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="338.193" y="233.202">Cloud Functions<tspan x="338.1929931640625" dy="1em">​</tspan></text>
    </g>
    <g transform="matrix(1, 0, 0, 1, 251.01152, 304.263031)">
      <title>Pub/Sub</title>
      <rect x="331.405" y="202.65" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-2);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="338.193" y="233.202" transform="matrix(1, 0, 0, 1, 29.445564, -0.00032)">Pub/Sub<tspan x="338.1929931640625" dy="1em">​</tspan></text>
    </g>
    <g transform="matrix(1, 0, 0, 1, -116.900024, 304.128693)">
      <title>Cloud Scheduler</title>
      <rect x="331.403" y="202.65" width="135" height="50" style="stroke: rgb(0, 0, 0); fill: url(#color-2);" rx="5.998" ry="5.998"/>
      <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 16.3px;" x="338.193" y="233.202" transform="matrix(1, 0, 0, 1, 0.344002, -0.00032)">Cloud Scheduler<tspan x="338.1929931640625" dy="1em">​</tspan></text>
    </g>
    <path d="M 349.503 532.841 H 570.133 L 570.133 526.356 L 582.417 533.341 L 570.133 540.325 L 570.133 533.841 H 349.503 V 532.841 Z" style="" bx:shape="arrow 349.503 526.356 232.914 13.969 1 12.284 0 1@c5073243"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 289.440002, 202.55722)"><tspan x="176.52" y="292.78">(0 3 * * *) backend-stop</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>(15 3 * * *) backend-start</tspan><tspan x="176.52000427246094" dy="1em">​</tspan><tspan>(30 3 * * *) backend-update-gtfs-data</tspan><tspan x="176.52000427246094" dy="1em">​</tspan></text>
    <path d="M 717.417 530.734 H 834.089 L 834.089 524.249 L 847.395 531.234 L 834.089 538.218 L 834.089 531.734 H 717.417 V 530.734 Z" style="" bx:shape="arrow 717.417 524.249 129.978 13.969 1 13.306 0 1@e7129696"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 605.885986, 217.55722)"><tspan x="176.52" y="292.78">backend-stop</tspan><tspan x="176.52" dy="1em">​</tspan><tspan>backend-start</tspan><tspan x="176.52" dy="1em">​</tspan></text>
    <path d="M 697.241 529.575 H 905.565 L 905.565 523.09 L 917.849 530.075 L 905.565 537.059 L 905.565 530.575 H 697.241 V 529.575 Z" style="" transform="matrix(0.718162, -0.695876, 0.695876, 0.718162, -180.634811, 611.292053)" bx:shape="arrow 697.241 523.09 220.607 13.969 1 12.284 0 1@da6b4e0d"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 496.481628, 142.088486)"><tspan x="176.52" y="292.78">backend-update-gtfs-data</tspan><tspan x="176.52" dy="1em">​</tspan></text>
    <path d="M 757.161 419.704 H 898.393 L 898.393 413.219 L 910.677 420.204 L 898.393 427.188 L 898.393 420.704 H 757.161 V 419.704 Z" style="" transform="matrix(0, -1, 1, 0, 491.604828, 1263.939697)" bx:shape="arrow 757.161 413.219 153.516 13.969 1 12.284 0 1@ce6d2138"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 667.261353, 135.088959)"><tspan x="176.52" y="292.78">Start/stop 'backend'</tspan><tspan x="176.52" dy="1em">​</tspan><tspan>instance</tspan></text>
  </g>
  <g style="">
    <title>Legend</title>
    <rect x="5" y="5" width="19.711" height="19.711" style="fill: url(#color-0); stroke: rgb(0, 0, 0);" rx="2.477" ry="2.477"/>
    <rect x="5" y="29.525" width="19.711" height="19.711" style="stroke: rgb(0, 0, 0); fill: url(#color-1);" rx="2.477" ry="2.477"/>
    <rect x="5" y="54.063" width="19.711" height="19.711" style="stroke: rgb(0, 0, 0); fill: url(#color-2);" rx="2.477" ry="2.477"/>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; white-space: pre;" x="30.715" y="19.721">External - MPK owned</text>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; white-space: pre;" x="30.715" y="44.246">Internal - request processing</text>
    <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; white-space: pre;" x="30.715" y="68.784">Internal - support</text>
  </g>
</svg>